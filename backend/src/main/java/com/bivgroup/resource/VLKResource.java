package com.bivgroup.resource;import com.bivgroup.exception.HandledServiceException;import com.bivgroup.pojo.request.*;import com.bivgroup.service.AccountService;import com.bivgroup.service.NotificationService;import com.fasterxml.jackson.databind.ObjectMapper;import jakarta.annotation.security.RolesAllowed;import jakarta.inject.Inject;import jakarta.ws.rs.Consumes;import jakarta.ws.rs.POST;import jakarta.ws.rs.Path;import jakarta.ws.rs.Produces;import jakarta.ws.rs.core.MediaType;import jakarta.ws.rs.core.Response;import org.eclipse.microprofile.openapi.annotations.Operation;import org.eclipse.microprofile.openapi.annotations.tags.Tag;import org.slf4j.Logger;import org.slf4j.LoggerFactory;@Path("/vlk")@Consumes(MediaType.APPLICATION_JSON)@Produces(MediaType.APPLICATION_JSON)@Tag(name = "REST methods of the product Virtual personal account of the insurer")public class VLKResource {    private static final Logger logger = LoggerFactory.getLogger(VLKResource.class);    @Inject    InputValidator inputValidator;    @Inject    NotificationService notificationService;    @Inject    AccountService accountService;    @POST    @Path("/notifications/getByContractNumber")    @RolesAllowed({"admin", "user"})    public Response getNotificationsByContractNumber(GetNotificationsByContractNumberRequest request) throws Exception {        logger.debug("Input message: " + new ObjectMapper().writeValueAsString(request));        inputValidator.validateGetNotificationsByContractNumberRequest(request);        return notificationService.getNotificationsByContractNumber(request);    }    @POST    @Path("/notifications/getByPeriod")    @RolesAllowed("admin")    public Response getNotificationsByPeriod(GetNotificationsByPeriodRequest request) throws HandledServiceException {        inputValidator.validateGetNotificationsByPeriodRequest(request);        return notificationService.getNotificationsByPeriod(request);    }    @POST    @Path("notifications/getByClient")    @RolesAllowed({"admin", "user"})    @Operation(            summary = "Вывод уведомлений",            description = "Позволяет получить список уведомлений по id пользователя"    )    public Response getNotificationsByClient(GetNotificationsByClientRequest request) throws HandledServiceException {        inputValidator.validateGetNotificationsByClientRequest(request);        return notificationService.getNotificationsByClient(request);    }    @POST    @RolesAllowed("admin")    @Path("/account/updateAccount")    public Response updateAccount(UpdateAccountRequest request) {        inputValidator.validateUpdateAccountRequest(request);        return accountService.updateAccount(request);    }    @POST    @RolesAllowed({"admin", "user"})    @Path("/account/getUserData")    public Response getUserData(GetUserDataRequest request) throws HandledServiceException {        inputValidator.validateGetUserDataRequest(request);        return accountService.getUserData(request);    }}